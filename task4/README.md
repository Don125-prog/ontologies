# Описание проблемной ситуации
Существует цифровая издательская платформа ePublish. В этой системе размешены выпуски журналов по разным областям и сферам деятельности. Пользователь может запрашивать доступ к выпуску определенного журнала, которые входят в его подписочный пакет. 
Для получения доступа к выпуску пользователь направляет запрос к системе - на практике кликает мышкой
Система должна ответить на вопрос: предоставлять доступ или нет к выпуску журналу, иначе говорят, считать ли запрос валидным 

# Определение классов
-	Пользователь 
-	Подписка 
-	Журнал 
-	Выпуск 
-	Запрос 
-	Валидный запрос 

# Определение свойств сущностей (предикатов)
-	Имеет подписку (между сущностями классов Пользователь и Подписка) 
-	Включает в себя (между сущностями классов Подписка и Журнал и между сущностью Журнал и Выпуск) 
-	Оформлена на (между сущностями классов Запрос и Пользователь) 
-	Обращается к (между сущностями классов Запрос и Выпуску)

# Пример онтологии
-	Наука_и_техника сущность класса Подписка, иначе можно записать Подписка(Наука_и_техника)
-	Журнал (Почемучка)
-	Пользователь (Иван_Иванов)
-	Выпуск (Выпуск_2025_11_ Почемучка)
-	Запрос (Запрос-1)

Связи:
-	Имеет_подписку (Иван_Иванов, Наука_техника)
-	Включает_в_себя (Наука_и_техника, Почемучка)
-	Включает_в_себя (Почемучка, Выпуск_2025_11_ Почемучка)
-	Оформлена_на (Запрос_1, Иван_Иванов)
-	Обращается_к (Запрос_1, Выпуск_2025_11__Почемучка)

# Определение условия
Запрос(?x)
^ Оформлена_на(?x, ?A)
^ Пользователь(?A)
^ Подписка(?B)
^ Журнал(?C)
^ Выпуск(?D)
^ Имеет_подписку(?A, ?B)
^ Включает_в_себя(?B, ?C)
^ Включает_в_себя(?C, ?D)
^ Обращается_к(?x, ?D) -> ВалидныйЗапрос(?x)

# Установка 
1) Скопируйте репозиторий и зайдите в папку проекта 
```sh
git clone https://github.com/Don125-prog/ontologies.git
```
```sh
cd ontologies
```
```sh
cd task4
```
2) Создайте и активируйте виртуальное окружение
```sh
python3 -m venv venv
```
```sh
source venv/bin/activate
```
3) Установите необходимые пакеты
```sh
pip install -r requirements.txt 
```
4) Измените параметры подключения в файле scr/config.py
```sh
   params = {
    'FUSEKI_HOST': 'localhost',
    'FUSEKI_USER': 'admin',
    'FUSEKI_PASSWORD': 'pw',
    'FUSEKI_PORT': 3030,
    'FUSEKI_DATASET': 'task4',
}
```
5) Запустите uvicorn сервер, указав нужный порт
```sh
uvicorn main:app --port 8000 --reload
```
6) Откройте Postman и загрузите коллекцию Task4.postman_collection.json
7) В переменных коллекции нужно указать HOST, LOGIN, PASSWORD, DATASET - параметры подключения к серверу фусеки и имя датасета
   
```sh
HOST: localhost:3030
LOGIN: admin
PASSWORD: pw
DATASET: task4
```
8) Откройте Postman и загрузите коллекцию Task5.postman_collection.json
9) В переменных коллекции нужно указать HOST, где развернут uvicorn сервер. Например:
```sh
HOST: localhost:8000
```
# Тестирование фусеки сервера
 Перед тестирование должна быть загружена коллекция Postman коллекцию Task4.postman_collection.json  и создана тестовая база task4, в которую загружены task3_1, Task3_2. Для этого можно использовать запросы из данной коллекции:
 -	Запрос Create Dataset создает датасет 
 -	Запрос Upload Dataset загружает данные в базу 
 -	Запрос Dataset Query возращает результат запроса, указанного в файле в теле запроса
   
# Тестирование unicorn сервера
 Перенесите Postman коллекцию Task5.postman_collection.json  и выполните запросы:
-	Запрос Get Dataset List возрашает список датасетов 
-	Запрос Execute test template возрашает список всех валидных Запросов в датасете
-	Запрос Execute template with limit возрашает список всех триплетов, где количество задается limit_rows в теле запроса
-	Запрос Execute template with params возращает сообщение "Запрос валидный", если Запрос, указанный в поле id_request, является валидным; иначе возращает сообщение "Запрос невалидный"






